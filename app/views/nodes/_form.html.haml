:javascript
  var node_candidates = #{raw JSON.pretty_generate @node_candidates};

= form_for(@node) do |node_form|
  - if @node.errors.any?
    #errorExplanation
      %h2
        = pluralize(@node.errors.count, "error")
        prohibited this node from being saved:
      %ul
        - @node.errors.full_messages.each do |msg|
          %li= msg
  %table
    %tr
      %th= node_form.label :name
      %td= node_form.select :name, @node_candidates.collect{|node_candidate| [node_candidate["name"], node_candidate["name"]]}
    %tr
      %th= node_form.label :ip
      %td= node_form.text_field :ip, :readonly => true
    %tr
      %th OS 
      %td= node_form.text_field :os, :readonly => true
    %tr
      %th OS Version
      %td= node_form.text_field :os_version, :readonly => true
  .actions
    = node_form.submit
